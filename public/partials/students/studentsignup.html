<div ng-include="'partials/components/navbar.html'"></div>
<div class="content">
	<div class="row">
		<div class="col-xs-12 col-sm-offset-3 col-sm-6 col-md-offset-3 col-md-6 col-lg-offset-3 col-lg-6">
			<form ng-submit="storeStudent(newstudent)" role="form">
				<legend>Registro de Estudiantes</legend>

				<div class="form-group">
					<div class="row">
						<div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
							<input 
								type="search" 
								id="value" 
								ng-model="search.value"
								class="form-control" 
								required="required"
								placeholder="Buscar Estudiante"  
								autofocus>	
						</div>
						<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
							<button class="btn btn-primary" title="Buscar Estudiante" ng-click="searchStudent()"><span class="glyphicon glyphicon-search"></span></button>
						</div>
					</div>
				</div>
				<div class="form-group" ng-show="showSearch">
					<div class="table-responsive">
						<table class="table table-hover">
							<thead>
								<tr>
									<th>Cuenta</th>
									<th>Nombres</th>
									<th>Apellidos</th>
									<th>Carnet</th>
									<th>Elegir</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="s in students">
									<td>{{ s.username }}</td>
									<td>{{ s.firstname }}</td>
									<td>{{ s.lastname }}</td>
									<td>{{ s.identity_card }}</td>
									<td><button class="btn btn-success btn-sm" ng-click="selectStudent(s)"><span class="glyphicon glyphicon-ok"></span></button></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<!-- student info -->
				<div class="form-group" ng-show="studentSelected">
					<label for="">Cuenta de Usuario</label>
					<input type="text" class="form-control" ng-model="student.username">
				</div>
				<div class="form-group" ng-show="studentSelected">
					<label for="">Nombres</label>
					<input type="text" class="form-control" ng-model="student.firstname">
				</div>
				<div class="form-group" ng-show="studentSelected">
					<label for="">Apellidos</label>
					<input type="text" class="form-control" ng-model="student.lastname">
				</div>
				<div class="form-group" ng-show="studentSelected">
					<label for="">Carnet de Identidad</label>
					<input type="text" class="form-control" ng-model="student.identitycard">
				</div>
				<div class="form-group" ng-show="studentSelected">
					<label for="">Celular</label>
					<input type="text" class="form-control" id="" placeholder="Celular" ng-model="student.cellphone" required>
				</div>				
				<div class="form-group" ng-show="studentSelected">
					<label for="">Dirección</label>
					<input type="text" class="form-control" id="" placeholder="Dirección" ng-model="student.address" required>
				</div>				

				<!-- end student info -->
				<!-- birthday -->
				<div class="form-group" ng-show="studentSelected">
					<label for="">Fecha de Nacimiento</label>
					<div class="row">
						<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
							<select id="" class="form-control" ng-model="newstudent.day" required>
								<option value="">Día</option>
								<option value="{{d.day}}" ng-repeat="d in days">{{ d.day }}</option>
							</select>							
						</div>
						<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
							<select id="" class="form-control" ng-model="newstudent.month" required>
								<option value="">Mes</option>
								<option value="{{m.month}}" ng-repeat="m in months">{{ m.month | month }}</option>
							</select>
						</div>
						<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
							<select id="" class="form-control" ng-model="newstudent.year" required>
								<option value="">Año</option>
 								<option value="{{y.year}}" ng-repeat="y in years">{{ y.year}}</option>
							</select>
						</div>

					</div>
				</div>
				<!-- end birthday -->
				<!-- sex -->
				<div class="form-group" ng-show="studentSelected">
					<label for="">Género</label>
					<div class="row">
						<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
							<div class="radio">
								<label>
									<input type="radio" name="sex" id="input" value="Masculino" ng-model="newstudent.gender">
									Masculino
								</label>
							</div>				
						</div>
						<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
							<div class="radio">
								<label>
									<input type="radio" name="sex" id="input" value="Femenino" ng-model="newstudent.gender">
									Femenino
								</label>
							</div>	
						</div>
					</div>
				</div>
				<!-- end sex -->
				<div class="form-group" ng-show="studentSelected">
					<label for="">Teléfono</label>
					<input type="text" class="form-control" id="" placeholder="Teléfono" ng-model="newstudent.phone" required>
				</div>				
				<div class="form-group" ng-show="studentSelected">
					<label for="">Celular</label>
					<input type="text" class="form-control" id="" placeholder="Celular" ng-model="newstudent.cellphone">
				</div>								
				<div class="form-group" ng-show="studentSelected">
					<label for="">Ocupación</label>
					<select id="" class="form-control" ng-model="newstudent.occupation" required>
						<option value="Escolar">Escolar</option>
						<option value="Universitario">Universitario</option>
						<option value="Profesional">Profesional</option>
						<option value="Otro">Otro</option>
					</select>
				</div>
				<div class="form-group" ng-show="showOtherOccupation">
					<label for="">Otro</label>
					<input type="text" placeholder="Ej. Ama casa" class="form-control" ng-model="newstudent.other">
				</div>				
				<div class="form-group" ng-show="studentSelected">
					<label for="">Persona de Contacto</label>
					<input type="text" class="form-control" id="" placeholder="Ej. Algún familiar" ng-model="newstudent.contactperson" required>
				</div>
				<div class="form-group" ng-show="studentSelected">
					<label for="">Teléfono de la  Persona de Contacto</label>
					<input type="text" class="form-control" id="" placeholder="Número de Telefono" ng-model="newstudent.contactpersonphone" required>
				</div>
				<div class="form-group" ng-show="studentSelected">
					<label for="">Celular de la Persona de Contacto</label>
					<input type="number" class="form-control" id="" placeholder="Número de Celular" ng-model="newstudent.contactpersoncellphone" required>
				</div>

<!-- 				<div class="form-group" ng-show="studentSelected">
	<label for="">Pensum Académico</label>
	<select name="" 
		id="input" 
		class="form-control"
		ng-model="pensum.id"
		required="required" autofocus>
		<option value="{{p.id}}" ng-repeat="p in pensums">{{ p.name }}</option>
	</select>
</div>

<div class="form-group" ng-show="studentSelected">
	<label for="">Nivel</label>
	<select id="" class="form-control" required>
		<option value="">Técnico Medio</option>
		<option value="">Técnico Superior</option>
		<option value="">Capacitación</option>
		<option value="">Examén de Ubicación</option>
	</select>
</div>

<div class="form-group" ng-show="studentSelected">
	<div class="row">
		<div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
			<label for="">Curso</label>
			<select id="" class="form-control" ng-model="pensum.bimester" required>
				<option value="{{b}}" ng-repeat="b in bimesters">{{ b | bimester }}</option>
			</select>
		</div>
		<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
				<label for="">Paralelo</label>
			<select id="" class="form-control">
				<option value="A">A</option>
				<option value="B">B</option>
				<option value="C">C</option>
			</select>
		</div>
	</div>
</div>
<div class="form-group" ng-show="studentSelected">
	<div class="table-responsive">
		<table class="table table-hover">
			<thead>
				<tr>
					<th>Codigo</th>
					<th>Identificacion de Asignatura</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="s in subjectsByBimester">
					<td>{{ s.code }}</td>
					<td>{{ s.subject_name }}</td>
				</tr>
			</tbody>
		</table>
	</div>
</div> -->

				<div class="form-group text-right" ng-show="studentSelected">
					<button type="submit" class="btn btn-primary">Registrar Estudiante</button>
				</div>
			
			</form>
		</div>
	</div>
</div>